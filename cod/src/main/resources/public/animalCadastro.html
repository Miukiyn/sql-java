<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Leonardo Ribeiro Andrade">
    <meta name="description" content="Doe ou adote animais de estimação no Brasil">
    <meta name="keywords" content="Adoção, Doação, Cachorro, Cão, Gato, Pet">

    <title>Encaramelados_Registrar</title>

    <link rel="stylesheet" href="./css/w3.css">
    <link rel="stylesheet" href="./css/LrStyles.css">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/registrar.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <style>
        .custom-file-upload {
            width: 500px;
            height: 100px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            background-color: #fff;

        }
    </style>
</head>

<body>


    <section class="flexColumnCenter">
        <a id="returnButton" href="./index.html">Retornar</a>
        <img id="heroImage2" src="./images/DogADD.jpg" alt="Cachorro caramelo">

        
        <form id="uploadForm" action="https://api.imgbb.com/1/upload" method="post" enctype="multipart/form-data">
            <label for="foto">Foto</label>
            <input type="file" name="image" id="foto" accept="image/*" required>
            <input type="hidden" name="key" value="c9a77a90173aa88243d2bdd36f844ef3">
            <button type="button" onclick="uploadImage()">Enviar Imagem</button>
        </form>
        
        <form id="signUpForm" class="flexColumnCenter" action="/animal/insert" method="POST">
            <label for="fotoInput">Foto</label>
            <input type="text" name="fotoInput" id="fotoInput" accept="image/*" placeholder="Adicione uma imagem acima" readonly>

            
            <label for="nomeInput">Nome</label>
            <input type="text" name="nomeInput" id="nomeInput" placeholder="Nome do animal" required>

            <label for="racaInput">Raça</label>
            <input type="text" name="racaInput" id="racaInput" placeholder="Raça do animal" required>

            <label for="especieInput">Espécie</label>
			<select name="especieInput" id="especieInput" required>
			    <option value="cachorro">Cachorro</option>
			    <option value="gato">Gato</option>
			    <option value="coelho">Coelho</option>
			    <option value="ave">Ave</option>
			</select>

            <label for="descricaoInput">Descrição</label>
            <textarea name="descricaoInput" id="descricaoInput" rows="4" cols="50" placeholder="Descrição do animal"
                required></textarea>

            <label for="caracteristicaInput">Característica</label>
			<select name="caracteristicaInput" id="caracteristicaInput" required>
			    <option value="pelagem-lisa">Pelagem Lisa</option>
			    <option value="pelagem-ondulada">Pelagem Ondulada</option>
			    <option value="pelagem-encaracolada">Pelagem Encaracolada</option>
			    <option value="pelagem-curta">Pelagem Curta</option>
			    <option value="pelagem-longa">Pelagem Longa</option>
			    <option value="amigável">Amigável</option>
			    <option value="tímido">Tímido</option>
			    <option value="energético">Energético</option>
			    <option value="calmo">Calmo</option>
			    <option value="inteligente">Inteligente</option>
			    <option value="brincalhão">Brincalhão</option>
			    <option value="protetor">Protetor</option>
			</select>


            <!-- Seleção para Tamanho -->
            <label for="tamanhoInput">Tamanho</label>
            <select name="tamanhoInput" id="tamanhoInput" required>
                <option value="pequeno">Pequeno</option>
                <option value="medio">Médio</option>
                <option value="grande">Grande</option>
            </select>

            <label for="estadoInput">Estado</label>
            <select name="estadoInput" id="estadoInput" required>
                <option value="Minas Gerais">Minas Gerais</option>
                <option value="São Paulo">São Paulo</option>
                <option value="Rio de Janeiro">Rio de Janeiro</option>
                <!-- Adicione outras opções de estados aqui -->
            </select>

            <label for="cidadeInput">Cidade</label>
            <select name="cidadeInput" id="cidadeInput" required>
                <!-- Opções de cidades para Minas Gerais -->
                <option value="Belo Horizonte">Belo Horizonte</option>
                <option value="Contagem">Contagem</option>
                <option value="Uberlândia">Uberlândia</option>
                <!-- Opções de cidades para São Paulo -->
                <option value="São Paulo">São Paulo</option>
                <option value="Campinas">Campinas</option>
                <option value="Santos">Santos</option>
                <!-- Opções de cidades para o Rio de Janeiro -->
                <option value="Rio de Janeiro">Rio de Janeiro</option>
                <option value="Niterói">Niterói</option>
                <option value="Duque de Caxias">Duque de Caxias</option>
                <!-- Adicione outras opções de cidades aqui -->
            </select>

            <div class="flexcenter">
                <button type="submit">Adicionar</button>
            </div>
        </form>
        </section>







    <script src="./js/LrStyles.js"></script>
    <script src="./js/Login.js"></script>
    <script src="./js/SignUp.js"></script>

    <script>
        async function uploadImage() {
            const form = document.getElementById('uploadForm');
            const result = document.getElementById('result');
            const fotoInput = document.getElementById('fotoInput');
            const formData = new FormData(form);

            try {
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: formData,
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.data && data.data.url) {
                        fotoInput.value = data.data.url;
                    } else {
                        fotoInput.value = 'Erro ao carregar a imagem.';
                    }
                } else {
                    fotoInput.value = 'Erro ao carregar a imagem.';
                }
            } catch (error) {
                console.error(error);
                fotoInput.value = 'Erro ao carregar a imagem.';
            }
        }
    </script>
</body>

</html>